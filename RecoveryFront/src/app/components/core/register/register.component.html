<div class="col-md-12 background pt-3">
    <div class="login-form bg-light col-md-8 md-center" style="height: 70%;">
        <div class="w-100">
            <mat-horizontal-stepper class="bg-transparent header-padding">
                <mat-step [stepControl]="personalInfoForm" errorMessage="{{getPersonalInfoFormErrors()}}"
                    label="Personal Information">
                    <div class="mt-3">
                        <form [formGroup]="personalInfoForm">
                            <div class="row">
                                <mat-form-field class="example-full-width col-md-6">
                                    <mat-label>Email</mat-label>
                                    <input matInput formControlName="email" placeholder="Ex. someone@something.com">
                                    <mat-error *ngIf="personalInfoForm.get('email')?.invalid">
                                        {{getRequiredPersonalInfoErrorMessage('email')}}</mat-error>
                                </mat-form-field>
                                <mat-form-field class="example-full-width col-md-6">
                                    <mat-label>Password</mat-label>
                                    <input matInput formControlName="password" type="password">
                                    <mat-error *ngIf="personalInfoForm.get('password')?.invalid">
                                        {{getRequiredPersonalInfoErrorMessage('password')}}</mat-error>
                                </mat-form-field>
                            </div>

                            <div class="row">
                                <mat-form-field class="example-full-width col-md-6">
                                    <mat-label>First Name</mat-label>
                                    <input matInput formControlName="name" type="text" placeholder="Ex. Jack">
                                    <mat-error *ngIf="personalInfoForm.get('name')?.invalid">
                                        {{getRequiredPersonalInfoErrorMessage('name')}}</mat-error>
                                </mat-form-field>
                                <mat-form-field class="example-full-width col-md-6">
                                    <mat-label>Last Name</mat-label>
                                    <input matInput formControlName="surname" type="text" placeholder="Ex. Smith">
                                    <mat-error *ngIf="personalInfoForm.get('surname')?.invalid">
                                        {{getRequiredPersonalInfoErrorMessage('surname')}}</mat-error>
                                </mat-form-field>
                            </div>
                            <div class="row">
                                <mat-form-field class="example-full-width col-md-6" id="dateOfBirth">
                                    <mat-label>Your Date Of Birth</mat-label>
                                    <input matInput formControlName="dateOfBirth" type="date">
                                    <mat-error *ngIf="personalInfoForm.get('dateOfBirth')?.invalid">
                                        {{getRequiredPersonalInfoErrorMessage('dateOfBirth')}}</mat-error>
                                </mat-form-field>
                                <mat-form-field appearance="standard" class="col-md-6">
                                    <mat-label>Select Gender</mat-label>
                                    <mat-select formControlName="gender">
                                        <mat-option value="MALE">Male</mat-option>
                                        <mat-option value="FEMALE">Female</mat-option>
                                    </mat-select>
                                    <mat-error *ngIf="personalInfoForm.get('gender')?.invalid">
                                        {{getRequiredPersonalInfoErrorMessage('gender')}}</mat-error>
                                </mat-form-field>
                            </div>
                            <div class="col-md-12 text-right pt-4">
                                <button matStepperNext mat-raised-button color="primary">Next Step</button>
                            </div>
                        </form>
                    </div>
                </mat-step>

                <mat-step [stepControl]="healthStateForm" errorMessage="{{getHealthStateFormErrors()}}"
                    label="Health state">
                    <div class="mt-3">
                        <form [formGroup]="healthStateForm">
                            <div class="row">
                                <mat-form-field appearance="standard" class="col-md-6">
                                    <mat-label>Height</mat-label>
                                    <input matInput formControlName="height" type="number" step="0.01" min="0"
                                        max="300">
                                </mat-form-field>
                                <mat-form-field appearance="standard" class="col-md-6">
                                    <mat-label>Weight</mat-label>
                                    <input matInput formControlName="weight" type="number" step="0.01" min="0"
                                        max="500">
                                </mat-form-field>
                            </div>

                            <div class="row">
                                <mat-form-field appearance="standard" class="col-md-6">
                                    <mat-label>Physical Activity Level</mat-label>
                                    <mat-select formControlName="physicalActivity">
                                        <mat-option value="SEDENTARY" (click)="onActivitySelected('SEDENTARY')">
                                            Sedentary</mat-option>
                                        <mat-option value="LIGHT_ACTIVE" (click)="onActivitySelected('LIGHT_ACTIVE')">
                                            Light active</mat-option>
                                        <mat-option value="MODERATE" (click)="onActivitySelected('MODERATE')">Moderate
                                        </mat-option>
                                        <mat-option value="VERY_ACTIVE" (click)="onActivitySelected('VERY_ACTIVE')">Very
                                            active</mat-option>
                                        <mat-option value="EXTRA_ACTIVE" (click)="onActivitySelected('EXTRA_ACTIVE')">
                                            Extrmely active</mat-option>
                                    </mat-select>
                                </mat-form-field>
                                <div class="col-md-6 activity-desciption">
                                    {{physicalActivityDescription}}
                                </div>
                            </div>

                            <div class="row">
                                <mat-form-field appearance="standard" class="col-md-12">
                                    <mat-label>Anamnesis (illnesses list)</mat-label>
                                    <mat-select formControlName="anamnesis" multiple>
                                        <mat-option *ngFor="let illness of allIllnesses" [value]="illness.id">
                                            {{illness.name}}</mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>

                            <div class="col-md-12 pt-4">
                                <button matStepperPrevious mat-raised-button color="primary">Back</button>
                                <button matStepperNext mat-raised-button color="primary" class="btn-right"
                                    [disabled]="personalInfoForm.invalid || healthStateForm.invalid"
                                    (click)="register()">Finish</button>
                            </div>
                        </form>
                    </div>
                </mat-step>
            </mat-horizontal-stepper>
        </div>
    </div>
    <div class="text-center mt-1 text-bold">
        Have an account? <button class="m-2 bg-white" mat-raised-button [routerLink]="['../login']">L
            O G I N</button> here!
    </div>

</div>